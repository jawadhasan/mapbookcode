<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <base href="/">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <!-- Style Sheets -->
  <link rel="stylesheet" href="site.css">
  <link rel="stylesheet" href="./lib/openlayer/ol.css">
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  </script>

  <!-- Libs -->
  <script type="text/javascript" src="node_modules/jquery/dist/jquery.js"></script>
  <script type="text/javascript" src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
  <script type="text/javascript" src="./lib/openlayer/ol.js"></script>


</head>

<body>


  <div class="container">
    <h1>Trucks Tracker Application</h1>

    <button class="btn btn-primary" onclick="mapTest()">Test</button>
    <div id="myMap" class="map" tabindex="0">
      <div id="info" data-original-title="test">
      </div>
    </div>
  </div>


  <script type="text/javascript" src="map-handler.js"></script>

  <script>

    var info = $('#info');
    info.tooltip({
      animation: false,
      trigger: 'manual'
    });

    var truckPositionData = {
      "data": [
        {
          "id": "PC",
          "reg": "B-UM 396",
          "txt": null,
          "lon": 13.15524,
          "lat": 52.532976,
          "ts": "2016-05-20T12:17:00",
          "hist": [
            { "lon": 13.138315, "lat": 52.527615, "ts": "2016-05-20T12:00:00" },
            { "lon": 13.138466, "lat": 52.528421, "ts": "2016-05-20T12:01:00" },
            { "lon": 13.138643, "lat": 52.528584, "ts": "2016-05-20T12:02:00" },
            { "lon": 13.139517, "lat": 52.528894, "ts": "2016-05-20T12:03:00" },
            { "lon": 13.140107, "lat": 52.529478, "ts": "2016-05-20T12:04:00" },
            { "lon": 13.140461, "lat": 52.530131, "ts": "2016-05-20T12:05:00" },
            { "lon": 13.140912, "lat": 52.531169, "ts": "2016-05-20T12:06:00" },
            { "lon": 13.141395, "lat": 52.53204, "ts": "2016-05-20T12:07:00" },
            { "lon": 13.141668, "lat": 52.532435, "ts": "2016-05-20T12:08:00" },
            { "lon": 13.142693, "lat": 52.532542, "ts": "2016-05-20T12:09:00" },
            { "lon": 13.14456, "lat": 52.532631, "ts": "2016-05-20T12:10:00" },
            { "lon": 13.145885, "lat": 52.532666, "ts": "2016-05-20T12:11:00" },
            { "lon": 13.147408, "lat": 52.532725, "ts": "2016-05-20T12:12:00" },
            { "lon": 13.148958, "lat": 52.532735, "ts": "2016-05-20T12:13:00" },
            { "lon": 13.150884, "lat": 52.532797, "ts": "2016-05-20T12:14:00" },
            { "lon": 13.152402, "lat": 52.53283, "ts": "2016-05-20T12:15:00" },
            { "lon": 13.154291, "lat": 52.532905, "ts": "2016-05-20T12:16:00" },
            { "lon": 13.15524, "lat": 52.532976, "ts": "2016-05-20T12:17:00" }
          ]
        },
        {
          "id": "DC",
          "reg": "B-BQ 4444",
          "txt": null,
          "lon": 12.15544,
          "lat": 53.534976,
          "ts": "2016-05-20T14:17:00",
          "hist": [
            { "lon": 13.138315, "lat": 54.547615, "ts": "2016-05-20T14:00:00" },
            { "lon": 13.138466, "lat": 54.548441, "ts": "2016-05-20T14:01:00" },
            { "lon": 13.138643, "lat": 54.548584, "ts": "2016-05-20T14:02:00" },
            { "lon": 13.139517, "lat": 54.548894, "ts": "2016-05-20T14:03:00" },
            { "lon": 13.140107, "lat": 54.549478, "ts": "2016-05-20T14:04:00" },
            { "lon": 13.140461, "lat": 54.530131, "ts": "2016-05-20T14:05:00" },
            { "lon": 13.140914, "lat": 54.531169, "ts": "2016-05-20T14:06:00" },
            { "lon": 13.141395, "lat": 54.53404, "ts": "2016-05-20T14:07:00" },
            { "lon": 13.141668, "lat": 54.534435, "ts": "2016-05-20T14:08:00" },
            { "lon": 13.144693, "lat": 54.534544, "ts": "2016-05-20T14:09:00" },
            { "lon": 13.14456, "lat": 54.534631, "ts": "2016-05-20T14:10:00" },
            { "lon": 13.145885, "lat": 54.534666, "ts": "2016-05-20T14:11:00" },
            { "lon": 13.147408, "lat": 54.534745, "ts": "2016-05-20T14:12:00" },
            { "lon": 13.148958, "lat": 54.534735, "ts": "2016-05-20T14:13:00" },
            { "lon": 13.150884, "lat": 54.534797, "ts": "2016-05-20T14:14:00" },
            { "lon": 13.154404, "lat": 54.53483, "ts": "2016-05-20T14:15:00" },
            { "lon": 13.154491, "lat": 54.534905, "ts": "2016-05-20T14:16:00" },
            { "lon": 12.15544, "lat": 53.534976, "ts": "2016-05-20T14:17:00" }
          ]
        }
      ]
    };

    var mapHandler = new MapHandler();
    mapHandler.loadTruckMapJsonData(truckPositionData);
    mapHandler.createMap();

    function mapTest() {
      mapHandler.Test();
    }
  </script>
</body>

</html>